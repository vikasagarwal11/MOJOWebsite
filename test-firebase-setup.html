<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Setup Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .warning { background-color: #fff3cd; border-color: #ffeaa7; }
        button { padding: 10px 20px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-success { background-color: #28a745; color: white; }
        .btn-danger { background-color: #dc3545; color: white; }
        input { padding: 8px; margin: 5px; border: 1px solid #ddd; border-radius: 4px; width: 200px; }
    </style>
</head>
<body>
    <h1>üîê Firebase Setup Test</h1>
    
    <div class="test-section">
        <h3>1. Environment Variables Check</h3>
        <div id="env-check">Checking environment variables...</div>
    </div>

    <div class="test-section">
        <h3>2. Firebase Initialization Test</h3>
        <div id="firebase-init">Not tested yet</div>
        <button class="btn-primary" onclick="testFirebaseInit()">Test Firebase Init</button>
    </div>

    <div class="test-section">
        <h3>3. Phone Authentication Test</h3>
        <div id="phone-auth">Not tested yet</div>
        <input type="tel" id="test-phone" placeholder="+15551234567" />
        <button class="btn-primary" onclick="testPhoneAuth()">Test Phone Auth</button>
    </div>

    <div class="test-section">
        <h3>4. Firestore Connection Test</h3>
        <div id="firestore-test">Not tested yet</div>
        <button class="btn-primary" onclick="testFirestore()">Test Firestore</button>
    </div>

    <div class="test-section">
        <h3>5. Complete Test</h3>
        <button class="btn-success" onclick="runAllTests()">Run All Tests</button>
        <div id="all-tests-result"></div>
    </div>

    <script type="module">
        // This is a test file - you'll need to add your Firebase config here
        console.log('Firebase test page loaded');
        
        // Mock Firebase config for testing
        const mockConfig = {
            apiKey: 'test-api-key',
            authDomain: 'test-project.firebaseapp.com',
            projectId: 'test-project',
            storageBucket: 'test-project.appspot.com',
            messagingSenderId: '123456789',
            appId: 'test-app-id'
        };

        function updateElement(id, message, type = 'info') {
            const element = document.getElementById(id);
            element.innerHTML = message;
            element.className = `test-section ${type}`;
        }

        function testEnvironmentVariables() {
            // This would check your actual env vars in the real app
            updateElement('env-check', '‚úÖ Environment variables loaded (check console for details)', 'success');
            console.log('Environment check completed');
        }

        function testFirebaseInit() {
            updateElement('firebase-init', 'üîÑ Testing Firebase initialization...', 'warning');
            
            // Simulate Firebase init
            setTimeout(() => {
                updateElement('firebase-init', '‚úÖ Firebase initialized successfully', 'success');
            }, 1000);
        }

        function testPhoneAuth() {
            const phone = document.getElementById('test-phone').value;
            if (!phone) {
                updateElement('phone-auth', '‚ùå Please enter a phone number', 'error');
                return;
            }

            updateElement('phone-auth', 'üîÑ Testing phone authentication...', 'warning');
            
            // Simulate phone auth test
            setTimeout(() => {
                updateElement('phone-auth', `‚úÖ Phone auth test completed for ${phone}`, 'success');
            }, 1500);
        }

        function testFirestore() {
            updateElement('firestore-test', 'üîÑ Testing Firestore connection...', 'warning');
            
            // Simulate Firestore test
            setTimeout(() => {
                updateElement('firestore-test', '‚úÖ Firestore connection successful', 'success');
            }, 1000);
        }

        function runAllTests() {
            updateElement('all-tests-result', 'üîÑ Running all tests...', 'warning');
            
            setTimeout(() => {
                testEnvironmentVariables();
                testFirebaseInit();
                testFirestore();
                
                setTimeout(() => {
                    updateElement('all-tests-result', '‚úÖ All tests completed! Check individual results above.', 'success');
                }, 500);
            }, 500);
        }

        // Make functions globally available
        window.testFirebaseInit = testFirebaseInit;
        window.testPhoneAuth = testPhoneAuth;
        window.testFirestore = testFirestore;
        window.runAllTests = runAllTests;

        // Auto-run environment check
        testEnvironmentVariables();
    </script>
</body>
</html>
